<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Interaktif : Ikuti Zamanmu, Jangan Lupakan Budayamu.</title>
    
    <style>
        /* Desain Responsif dan Menarik */
        :root {
            --primary-color: #007bff; /* Biru Primer (untuk fokus) */
            --button-color: #ADD8E6; /* Biru Muda untuk Pilihan */
            --bg-color: #f4f7f6; /* Latar belakang terang */
            --text-color: #333;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .quiz-container {
            max-width: 90%;
            margin: 20px auto;
            padding: 20px;
            background: #ffffff;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
        }
        
        /* Judul */
        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 10px;
            font-size: 1.5em; /* Lebih kecil untuk ponsel */
        }
        
        /* Gambar Soekarno */
        .header-image {
            display: block;
            width: 100%;
            max-width: 250px;
            height: auto;
            margin: 0px auto 20px auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Pertanyaan */
        .question-box {
            background-color: #e9ecef;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .question {
            font-weight: bold;
            font-size: 1.1em;
            color: #212529;
        }

        /* Opsi Jawaban */
        .option button {
            background-color: var(--button-color); /* Biru Muda */
            color: var(--text-color);
            border: none;
            padding: 12px 15px;
            width: 100%;
            text-align: left;
            margin-bottom: 8px;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .option button:hover:not(:disabled) {
            background-color: #90d3e5; /* Sedikit lebih gelap saat di-hover */
            transform: translateY(-1px);
        }

        .option button:disabled {
            cursor: not-allowed;
            opacity: 0.6; 
        }

        /* Feedback dan Tombol Lanjut */
        #result {
            margin-top: 20px;
            padding: 10px;
            border-radius: 6px;
            font-weight: bold;
            text-align: center;
        }

        #next-button {
            display: block;
            width: 100%;
            padding: 12px;
            margin-top: 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #next-button:hover {
            background-color: #0056b3;
        }

        /* Responsif untuk layar besar */
        @media (min-width: 768px) {
            .quiz-container {
                max-width: 700px;
            }
            h1 {
                font-size: 2em;
            }
        }

    </style>
</head>
<body>

    <div class="quiz-container">
        <h1>Quiz Interaktif: Ikuti Zamanmu, Jangan Lupakan Budayamu.</h1>
        
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Soekarno-Hatta.jpg/300px-Soekarno-Hatta.jpg" alt="Bapak Proklamator Soekarno" class="header-image">
        
        <div class="question-box">
            <span id="question-number"></span>
            <div id="question-text" class="question">Memuat pertanyaan...</div>
        </div>
        
        <div id="options-container">
            </div>
        
        <div id="result"></div>
        
        <button id="next-button" style="display:none;">Pertanyaan Berikutnya >></button>
    </div>

    <script>
        <script src="https://raw.githubusercontent.com/dairikardobuangmanalu-rgb/musdalangkat/refs/heads/main/soal.js"></script>

        // --- Variabel Global Kuis ---
        // BATASAN SOAL: 5 PERTANYAAN
        const totalQuestionsToShow = 5; 
        let selectedQuestions = [];
        let currentQuestionIndex = 0;
        let userScore = 0;
        const passingScore = 60; // Nilai minimum kelulusan

        // --- Fungsi Helper ---

        // Fungsi untuk mengacak urutan elemen dalam array
        function shuffle(array) {
            let currentIndex = array.length, randomIndex;
            while (currentIndex !== 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [
                    array[randomIndex], array[currentIndex]];
            }
            return array;
        }

        // --- Fungsi Utama Kuis ---

        function selectRandomQuestions() {
            let shuffledBank = shuffle([...fullQuestionBank]);
            // Ambil 5 soal pertama (sesuai totalQuestionsToShow)
            selectedQuestions = shuffledBank.slice(0, totalQuestionsToShow);
            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestionIndex >= totalQuestionsToShow) {
                showResults();
                return;
            }

            const qData = selectedQuestions[currentQuestionIndex];
            const qNum = currentQuestionIndex + 1;
            
            document.getElementById('question-number').innerText = `Pertanyaan ${qNum} dari ${totalQuestionsToShow}`;
            document.getElementById('question-text').innerText = qData.q;

            // Gabungkan dan acak pilihan
            let allOptions = [qData.a, ...qData.options]; 
            allOptions = shuffle(allOptions); 

            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            // Buat tombol pilihan
            allOptions.forEach(optionText => {
                const optionDiv = document.createElement('div');
                optionDiv.classList.add('option');
                const button = document.createElement('button');
                button.innerText = optionText;
                
                // JAWABAN BENAR dikirim sebagai parameter
                button.onclick = () => checkAnswer(button, qData.a); 
                
                optionDiv.appendChild(button);
                optionsContainer.appendChild(optionDiv);
            });

            document.getElementById('result').innerHTML = '';
            document.getElementById('next-button').style.display = 'none';
        }

        // LOGIKA PERCOBAAN DIPERBAIKI: 1 KALI PILIH JAWABAN, LALU LANJUT
        function checkAnswer(selectedButton, correctAnswer) {
            const options = document.querySelectorAll('#options-container button');
            const resultDiv = document.getElementById('result');
            
            // Nonaktifkan semua tombol setelah satu pilihan diklik
            options.forEach(btn => btn.disabled = true); 

            if (selectedButton.innerText === correctAnswer) {
                userScore++;
                resultDiv.innerHTML = "<span style='color: green;'>Jawaban Anda Benar! ðŸŽ‰</span>";
                selectedButton.style.backgroundColor = 'lightgreen';
                selectedButton.style.color = 'black';
            } else {
                resultDiv.innerHTML = `<span style='color: red;'>Jawaban Anda Salah. Jawaban yang benar adalah: ${correctAnswer}</span>`;
                selectedButton.style.backgroundColor = 'salmon';
                selectedButton.style.color = 'black';

                // Tandai jawaban yang benar (untuk edukasi)
                options.forEach(btn => {
                    if (btn.innerText === correctAnswer) {
                        btn.style.backgroundColor = 'lightgreen';
                        btn.style.color = 'black';
                    }
                });
            }

            // Tampilkan tombol untuk melanjutkan
            document.getElementById('next-button').style.display = 'block';
        }

        function showResults() {
            const quizContainer = document.querySelector('.quiz-container');
            
            // Hitung nilai akhir. (Skor Benar / 5) * 100
            const finalScore = Math.round((userScore / totalQuestionsToShow) * 100);
            
            let resultMessage = "";
            let socialMediaMessage = "";

            if (finalScore >= passingScore) {
                resultMessage = "<span style='color: green;'>Kamu memiliki pengetahuan yang baik soal Kabupaten Langkat!</span>";
                socialMediaMessage = "<br><br> Jangan Lupa Ikuti Kami di Facebook, Tiktok dan Instagram. Salam Budaya!";
            } else {
                resultMessage = "<span style='color: red;'>Nilai Anda di bawah 60. Ayo belajar lagi tentang Langkat! Budaya kita adalah kekayaan kita.</span>";
                socialMediaMessage = "";
            }

            quizContainer.innerHTML = `
                <h2 style="color: var(--primary-color); text-align: center;">Kuis Selesai!</h2>
                <p style="text-align: center; font-size: 1.2em;">Skor Akhir Anda: <b>${finalScore}</b></p>
                <p style="text-align: center; font-weight: bold; font-style: italic;">${resultMessage}</p>
                <p style="text-align: center; font-size: 0.9em;">${socialMediaMessage}</p>
                <button onclick="window.location.reload()" style="background-color: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; display: block; width: 80%; margin: 20px auto;">Coba Kuis Lagi</button>
            `;
        }

        // --- Inisialisasi Kuis ---
        document.addEventListener('DOMContentLoaded', () => {
            // Event Listener untuk tombol Berikutnya
            document.getElementById('next-button').addEventListener('click', () => {
                currentQuestionIndex++;
                loadQuestion();
            });

            // Mulai kuis saat halaman dimuat
            selectRandomQuestions();
        });

    </script>
</body>

</html>
